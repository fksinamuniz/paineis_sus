<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal de Painéis SUS</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        /* Custom smooth transition for hover effects */
        .transition-all {
            transition-property: all;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 300ms;
        }
    </style>
</head>
<body class="bg-slate-50 font-sans text-slate-900 min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-gradient-to-r from-blue-800 to-blue-600 text-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <div class="flex items-center gap-3">
                    <div class="bg-white/20 p-2 rounded-lg backdrop-blur-sm">
                        <i data-lucide="layout-grid" width="32" height="32"></i>
                    </div>
                    <div>
                        <h1 class="text-3xl font-bold tracking-tight">Portal de Painéis SUS</h1>
                        <p class="text-blue-100 text-sm mt-1">Central de Monitoramento e Inteligência de Dados</p>
                    </div>
                </div>
                
                <div class="w-full md:w-auto relative">
                    <i data-lucide="search" class="absolute left-3 top-1/2 transform -translate-y-1/2 text-blue-300 w-5 h-5"></i>
                    <input 
                        type="text" 
                        id="searchInput"
                        placeholder="Buscar painel..." 
                        class="w-full md:w-80 pl-10 pr-4 py-2 rounded-full bg-blue-900/50 border border-blue-500/30 text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-white/50 focus:bg-blue-900/80 transition-all"
                    >
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex-grow w-full">
        
        <!-- Categories -->
        <div id="categoryContainer" class="flex flex-wrap gap-2 mb-8 justify-center md:justify-start">
            <!-- Buttons will be injected here via JS -->
        </div>

        <!-- Grid -->
        <div id="panelsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            <!-- Cards will be injected here via JS -->
        </div>

        <!-- Empty State (Hidden by default) -->
        <div id="emptyState" class="hidden text-center py-20">
            <div class="flex justify-center mb-4">
                <i data-lucide="file-bar-chart" class="text-slate-300 w-12 h-12"></i>
            </div>
            <h3 class="text-xl font-medium text-slate-600">Nenhum painel encontrado</h3>
            <p class="text-slate-400 mt-2">Tente ajustar sua busca ou mudar a categoria.</p>
        </div>

    </main>

    <!-- Footer -->
    <footer class="border-t border-slate-200 bg-white mt-auto">
        <div class="max-w-7xl mx-auto px-4 py-6 text-center text-slate-500 text-sm">
            <p>© <span id="year"></span> - Central Integradora de Painéis de Saúde Pública</p>
            <p class="text-xs mt-1 text-slate-400">Os links redirecionam para portais oficiais do Ministério da Saúde e parceiros.</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // Data
        const panels = [
            {
                id: 1,
                title: "Painel de Tuberculose",
                description: "Dados epidemiológicos e operacionais da tuberculose no Brasil (SVSA).",
                url: "https://www.gov.br/saude/pt-br/composicao/svsa/cnie/painel-tuberculose",
                category: "Tuberculose",
                icon: "thermometer"
            },
            {
                id: 15,
                title: "Vacinação - Calendário Nacional",
                description: "Monitoramento da vacinação conforme Calendário Nacional (Residência).",
                url: "https://infoms.saude.gov.br/extensions/SEIDIGI_DEMAS_VACINACAO_CALENDARIO_NACIONAL_RESIDENCIA/SEIDIGI_DEMAS_VACINACAO_CALENDARIO_NACIONAL_RESIDENCIA.html",
                category: "Imunização",
                icon: "syringe"
            },
            {
                id: 2,
                title: "Monitoramento Integrado HIV/AIDS",
                description: "Indicadores do Cuidado Contínuo do HIV e da Aids (Power BI).",
                url: "http://antigo.aids.gov.br/pt-br/pub/painel-de-monitoramento-integrado-do-cuidado-do-hiv-e-da-aids-0",
                category: "HIV/AIDS",
                icon: "activity"
            },
            {
                id: 3,
                title: "Profilaxia Pré-Exposição (PrEP)",
                description: "Monitoramento da dispensação e uso da PrEP no Brasil.",
                url: "http://antigo.aids.gov.br/pt-br/painel-prep",
                category: "HIV/AIDS",
                icon: "syringe"
            },
            {
                id: 4,
                title: "Profilaxia Pós-Exposição (PEP)",
                description: "Dados sobre atendimentos e dispensação de PEP.",
                url: "http://antigo.aids.gov.br/pt-br/painel-pep",
                category: "HIV/AIDS",
                icon: "syringe"
            },
            {
                id: 5,
                title: "HIV durante a Pandemia COVID-19",
                description: "Impacto da pandemia nos indicadores de HIV/AIDS.",
                url: "http://antigo.aids.gov.br/pt-br/painel-covid-hiv", 
                category: "HIV/AIDS",
                icon: "alert-triangle"
            },
            {
                id: 6,
                title: "Autoteste HIV",
                description: "Distribuição e resultados de autotestes de HIV.",
                url: "http://antigo.aids.gov.br/pt-br/pub/2021/painel-de-autoteste-de-hiv",
                category: "HIV/AIDS",
                icon: "heart-pulse"
            },
            {
                id: 7,
                title: "Monitoramento Clínico de HIV",
                description: "Indicadores e dados básicos de acompanhamento clínico.",
                url: "http://indicadoresclinicos.aids.gov.br/",
                category: "HIV/AIDS",
                icon: "activity"
            },
            {
                id: 8,
                title: "Estratégia Viva Melhor Sabendo (VMS)",
                description: "Monitoramento das ações de testagem e diagnóstico.",
                url: "http://antigo.aids.gov.br/pt-br/pub/2017/painel-viva-melhor-sabendo",
                category: "HIV/AIDS",
                icon: "heart-pulse"
            },
            {
                id: 9,
                title: "Monitoramento de Hepatites B e C",
                description: "Vigilância epidemiológica das hepatites virais.",
                url: "http://antigo.aids.gov.br/pt-br/pub/painel-de-monitoramento-de-hepatites-virais",
                category: "Hepatites",
                icon: "activity"
            },
            {
                id: 10,
                title: "Inconsistências: Hepatites Virais",
                description: "Indicadores de qualidade de dados nos municípios brasileiros.",
                url: "http://indicadores.aids.gov.br/", 
                category: "Qualidade de Dados",
                icon: "alert-triangle"
            },
            {
                id: 11,
                title: "Inconsistências: Sífilis Adquirida",
                description: "Monitoramento de erros ou falhas de notificação (Municípios).",
                url: "http://indicadores.aids.gov.br/",
                category: "Qualidade de Dados",
                icon: "alert-triangle"
            },
            {
                id: 12,
                title: "Inconsistências: Sífilis Congênita",
                description: "Dados de qualidade sobre sífilis em recém-nascidos.",
                url: "http://indicadores.aids.gov.br/",
                category: "Qualidade de Dados",
                icon: "alert-triangle"
            },
            {
                id: 13,
                title: "Inconsistências: Sífilis em Gestantes",
                description: "Monitoramento de notificações em gestantes.",
                url: "http://indicadores.aids.gov.br/",
                category: "Qualidade de Dados",
                icon: "alert-triangle"
            },
            {
                id: 14,
                title: "PORTAL PAINÉIS - CONASEMS",
                description: "Portal de Painéis de Apoio à Gestão Municipal.",
                url: "https://paineis.conasems.org.br/",
                category: "Gestão",
                icon: "building-2"
            }
        ];

        // State
        let activeCategory = 'Todos';
        let searchTerm = '';
        const categories = ['Todos', ...new Set(panels.map(p => p.category))];

        // Elements
        const gridEl = document.getElementById('panelsGrid');
        const categoriesEl = document.getElementById('categoryContainer');
        const emptyStateEl = document.getElementById('emptyState');
        const searchInput = document.getElementById('searchInput');
        const yearEl = document.getElementById('year');

        // Initial Render
        yearEl.textContent = new Date().getFullYear();

        // Helper to render Icons
        function getIconClass(category) {
            return category === 'Gestão' 
                ? 'bg-orange-100 text-orange-600' 
                : 'bg-blue-100 text-blue-600';
        }

        // Render Functions
        function renderCategories() {
            categoriesEl.innerHTML = categories.map(cat => `
                <button 
                    onclick="setCategory('${cat}')"
                    class="px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${
                        activeCategory === cat 
                        ? 'bg-blue-600 text-white shadow-md transform scale-105' 
                        : 'bg-white text-slate-600 border border-slate-200 hover:bg-slate-100 hover:border-slate-300'
                    }"
                >
                    ${cat}
                </button>
            `).join('');
        }

        function renderGrid() {
            const filtered = panels.filter(panel => {
                const matchesSearch = panel.title.toLowerCase().includes(searchTerm.toLowerCase()) || 
                                      panel.description.toLowerCase().includes(searchTerm.toLowerCase());
                const matchesCategory = activeCategory === 'Todos' || panel.category === activeCategory;
                return matchesSearch && matchesCategory;
            });

            if (filtered.length === 0) {
                gridEl.innerHTML = '';
                emptyStateEl.classList.remove('hidden');
            } else {
                emptyStateEl.classList.add('hidden');
                gridEl.innerHTML = filtered.map(panel => `
                    <div 
                        onclick="window.open('${panel.url}', '_blank')"
                        class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-lg hover:border-blue-400 transition-all duration-300 cursor-pointer group flex flex-col h-full"
                    >
                        <div class="flex items-start justify-between mb-4">
                            <div class="p-3 rounded-lg ${getIconClass(panel.category)} group-hover:scale-110 transition-transform">
                                <i data-lucide="${panel.icon}" width="24" height="24"></i>
                            </div>
                            <i data-lucide="external-link" class="text-slate-400 group-hover:text-blue-500 w-5 h-5"></i>
                        </div>
                        <h3 class="font-bold text-slate-800 text-lg mb-2 group-hover:text-blue-700 leading-tight">
                            ${panel.title}
                        </h3>
                        <p class="text-slate-500 text-sm mb-4 flex-grow">
                            ${panel.description}
                        </p>
                        <div class="mt-auto pt-4 border-t border-slate-100 flex justify-between items-center">
                            <span class="text-xs font-semibold px-2 py-1 bg-slate-100 text-slate-600 rounded-full">
                                ${panel.category}
                            </span>
                            <span class="text-sm font-medium text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-1">
                                Acessar Painel <span class="text-lg">&rarr;</span>
                            </span>
                        </div>
                    </div>
                `).join('');
                
                // Re-initialize icons for new elements
                lucide.createIcons();
            }
        }

        // Actions
        window.setCategory = (cat) => {
            activeCategory = cat;
            renderCategories();
            renderGrid();
        };

        searchInput.addEventListener('input', (e) => {
            searchTerm = e.target.value;
            renderGrid();
        });

        // Initialize
        renderCategories();
        renderGrid();
        lucide.createIcons();

    </script>
</body>
</html>
